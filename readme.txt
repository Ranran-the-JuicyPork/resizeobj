---------------------------------------------------------------------
                                                           2009年10月
       resizeobj ver 1.1 beta
                                           by wa ( ttrawa@gmail.com )
                                http://www.geocities.jp/wa_simutrans/
---------------------------------------------------------------------

■ 概要
  simutransのpak128用のPAKファイルをpak64でも利用できるように変換する
  コマンドラインアプリケーションです。

    --------------------------------------------------------
     動作環境 ： 手元のVista Home Basic SP2 でしか確認してません
     開発環境 ： Microsoft Visual C++ 2008 Expression Edition

    ライセンス： パブリックドメイン相当の扱いでおねがいします。
    --------------------------------------------------------


■ インストール/アンインストール
  特別な操作は不要です。
  レジストリへの書き込み等は行いません。


■ 使い方
  resizeobj.exeのフルパスをc:\work\resizeobj.exe、変換したいPAKファイ
  ルの名前をbuilding.example1.pakであるとそれぞれ仮定します。コマンド
  プロンプト上で、
  
  c:\……>c:\work\resizeobj.exe building.example1.pak
  
  と打ち込んでresizeobjを実行します。コマンドプロンプトでの作業が面倒
  ならresizeobj.exeのアイコン上に変換したいファイル(複数可)をドラッグ＆
  ドロップして実行するのもありです。
  
  resizeobj.exeを実行すると、building.example1.pakが存在するのと同じ
  フォルダにbuilding.example1.64.pakという名前のファイルが作成されま
  す。これが変換されたファイルなのでこれをsimutransの下にあるpakフォ
  ルダに放り込めばOKです。
  
  複数ファイルを一気に変換したい場合は下のようにスペース区切りで指定
  したりワイルドカードを利用したりできます。
  
  c:\……>c:\work\resizeobj.exe building.example1.pak building.example2.pak ……
  c:\……>c:\work\resizeobj.exe building.*.pak

■ コマンドラインオプション
  -A=《0〜100》
    画像縮小時のアンチエイリアス量を指定します。『-A=0』でアンチエイ
    リアス無し、『-A=100』でアンチエイリアス強めとなります。

  -S=《0〜2》
    画像縮小時の特殊色(発光色・プレイヤー色)の扱いを指定します。
      0: 特殊色を使用せず縮小します。夜間に発光しなくなるかわりに奇麗
         なアンチエイリアスがかかります。
      1: 縮小元エリアの左上が特殊色の場合にその特殊色を出力します。
         (既定値)
      2: 縮小元エリアで特殊色が半数以上使用されている場合にその特殊色
         を出力します。


  -K
      元ファイルの画像データを縮小せずそのまま大きな画像を使用する
      「原寸モード」で変換します。
        原寸モードが使用できるのは、一部の建築物(駅舎・待合室/倉庫・
      役所・本社・工場・ランドマーク)および乗り物です。市内建築物や
      記念碑などは原寸モードを利用できません。
  -Ka
      原寸モードで建築物を変換する際にアニメーションを取り除きます。
  -L
      原寸モードで乗り物を変換する際にlength属性を変換しません。


  -E=《拡張子》
    出力するファイルの拡張子を指定します。既定値は「.64.pak」です。
  -T=《text》
    アドオン名の先頭に指定された文字列を付け加えます。アドオン名が他の
    アドオンと衝突する場合などにどうぞ。
  -N
    ファイルヘッダの書き換えを行いません。
  -D
     エラー発生時にダイアログを表示しません。
  -? , -H
    コマンドラインオプションを表示します。

■ 更新履歴

ver 1.1
  ・原寸モード追加
  ・乗り物もデフォルトでは画像縮小を行うようにし、オフセット調整機能は原寸モードに移動。
  ・-Eオプション追加
  ・-Dオプション追加
  ・変換元ファイル名に"."を含まずフォルダ名に"."を含む場合に出力ファイル名が変になるバグを修正
  ・非空白画像を縮小した結果 空白画像に転じた場合、不正なPAKファイルが出力されるバグを修正

ver 0.2 beta (2009/7/21)
  ・PAKファイルの名前に日本語が含まれているとエラーが出るバグを修正
  ・エラー表示をコンソール出力するだけでなくエラーダイアログでの表示も行うように変更
ver 0.1 beta (2009/7/18)
  ・初公開
